# =============================================================================
# BACKEND Nixpacks Configuration
# =============================================================================
# Service: MDM Comics Backend (FastAPI)
# Root Directory: backend
# Config Path: backend/railway.json
# =============================================================================

providers = ["python"]

[phases.setup]
nixPkgs = ["python312Full", "gcc"]

[phases.install]
cmds = [
    "pip install --upgrade pip",
    "pip install -r requirements.txt"
]
dependsOn = ["setup"]

[phases.build]
cmds = ["echo 'Backend ready'"]
dependsOn = ["install"]

[start]
cmd = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
